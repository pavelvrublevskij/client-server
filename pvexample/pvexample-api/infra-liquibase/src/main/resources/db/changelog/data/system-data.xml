<?xml version="1.1" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <changeSet id="0-add_admin_user" author="pavelvrublevskij@gmail.com">
        <insert tableName="users">
            <column name="user_name" value="admin"/>
            <column name="user_password" value="$2a$10$slYQmyNdGzTn7ZLBXBChFOC9f6kFjAqPhccnP6DxlWXx2lPk1C3G6"/> <!--password-->
        </insert>
    </changeSet>

    <changeSet id="0-add_default_roles" author="pavelvrublevskij@gmail.com">
        <insert tableName="role">
            <column name="code" value="ROLE_ADMIN"/>
        </insert>
        <insert tableName="role">
            <column name="code" value="ROLE_CUSTOMER"/>
        </insert>
    </changeSet>

    <changeSet id="0-add_default_roles_for_users" author="pavelvrublevskij@gmail.com">
        <insert tableName="users_role">
            <column name="users_id" valueComputed="(SELECT id FROM users WHERE user_name = 'admin')"/>
            <column name="role_code" value="ROLE_ADMIN"/>
        </insert>
    </changeSet>

    <changeSet id="1-add_countries" author="pavelvrublevskij@gmail.com">
        <insert tableName="country">
            <column name="country_code" value="LTU"/>
            <column name="country_name" value="Lithuania"/>
            <column name="supported" value="1"/>
        </insert>
        <insert tableName="country">
            <column name="country_code" value="LVA"/>
            <column name="country_name" value="Latvia"/>
        </insert>
        <insert tableName="country">
            <column name="country_code" value="EST"/>
            <column name="country_name" value="Estonia"/>
        </insert>
    </changeSet>

</databaseChangeLog>
